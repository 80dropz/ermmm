<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Your Key</title>
    <script src="https://publisher.linkvertise.com/cdn/linkvertise.js"></script>
    <style>
        body { background-color: #121212; color: #ffffff; font-family: Arial, sans-serif; margin: 0; padding: 20px; text-align: center; }
        h1 { color: #bb86fc; font-size: 24px; margin-bottom: 10px; }
        .terms { font-size: 14px; color: #a0a0a0; margin-bottom: 20px; }
        button { background-color: #bb86fc; color: #121212; border: none; padding: 10px 20px; font-size: 16px; cursor: pointer; border-radius: 5px; transition: background-color 0.3s ease; margin-bottom: 20px; }
        button:hover { background-color: #9a67ea; }
        #key-display { margin-top: 20px; padding: 10px; background-color: #1e1e1e; border-radius: 5px; color: #ffffff; font-size: 18px; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1>Complete the Linkvertise Offer to Get Your Key</h1>
    <div class="terms">
        By using this key you agree to our Terms of Service. Violating any of these rules will lead to a blocklist.<br>
        This key only works for you!
    </div>
    <button id="offerButton" onclick="openOffer();">Complete Offer</button>
    <div id="key-display"></div>

    <script>
        const keys = ["key1-abc123", "key2-def456", "key3-ghi789"];
        let usedKeys = [];
        let offerCompleted = false;

        // Function to display the key
        function displayKey() {
            const keyDisplay = document.getElementById("key-display");
            if (keys.length > 0 && offerCompleted) {
                const key = keys.shift();
                usedKeys.push(key);
                keyDisplay.innerHTML = `Your key is: <strong>${key}</strong>`;
                // Hide the offer button after successful completion
                document.getElementById("offerButton").classList.add("hidden");
            }
        }

        function openOffer() {
            window.open("https://link-target.net/1196977/freerustrefined", "_blank");
            // Start checking for completion
            checkForCompletion();
        }

        // Initialize Linkvertise
        function initializeLinkvertise() {
            if (typeof linkvertise === 'function') {
                linkvertise(1196977, {
                    whitelist: [],
                    blacklist: [],
                    onSuccess: function() {
                        offerCompleted = true;
                        displayKey();
                    }
                });
            }
        }

        // Check for completion by monitoring localStorage
        function checkForCompletion() {
            const checkInterval = setInterval(() => {
                // Check if the user completed the offer
                if (localStorage.getItem('linkvertise_' + 1196977)) {
                    offerCompleted = true;
                    displayKey();
                    clearInterval(checkInterval);
                }
            }, 1000);
        }

        // Check URL parameters for completion
        function checkUrlParameters() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('completed')) {
                offerCompleted = true;
                displayKey();
            }
        }

        // Initialize when page loads
        window.onload = function() {
            initializeLinkvertise();
            checkUrlParameters();
        };
    </script>
</body>
</html>
